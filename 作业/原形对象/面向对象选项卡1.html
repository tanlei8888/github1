<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        ul{
            list-style: none;
            text-align: center;
            overflow: hidden;
            
        }
        .tab{
            width: 300px;
            margin: 100px auto;
        }
        .tab_title{
            width: 100%;
            font-size: 20px;
        }
        .tab_title li{
            width: 100px;
            border: 1px solid black;
            float: left;
            box-sizing: border-box;
            
        }
        .tab_content{
            width: 100%;
            height: 300px;
        }
        .tab_content li{
            width: 100%;
            height: 300px;
            border: 2px solid green;
            display: none;
            box-sizing: border-box;
            background-color: pink;
        }
        .clicked{
            background-color: skyblue;
        }
        .tab .tab_content .active{
            background-color: gray;
            color: white;
            display: block;
        }
    </style>
</head>
<body>
    <div class="tab" id="tab">
    </div>
</body>
<script src="./js/appd.js"></script>
<script>
    let oDiv = document.getElementById("div");
    let json = [{
        "title": "标题一",
        "content": "“中国创新能力不断提升”"
      }, {
        "title": "标题二",
        "content": "“必须竭尽所能避免和减少污名化”"
      }, {
        "title": "标题三",
        "content": "海关总署：健康申明卡网上申报超380万票"
      }]
    // let Title = document.getElementById("#tab_title")
    // let Content = document.getElementById("#tab_content")
    // let aLi = document.querySelectorAll("#tab_title li");
    // let aLi1 = document.querySelectorAll("#tab_content li");
    // for(let i = 0; i < aLi.length; i++){
    //     debugger
    //     aLi[i].addEventListener("click" ,function(){
    //         for(let j = 0; j < aLi.length; j++ ){
    //          aLi1[j].className = "";
    //          aLi[j].className = "";
    //         }
    //     aLi[i].className = "clicked";
    //     aLi1[i].className = "active";
    //     })
    // }
    
    class Tab{
        constructor(parant,data){
            this.parant = parant;
            this.data = data;
            this.title = "tab_title";
            this.content = "tab_content"
            this.init()
        }
        
        init(){
            let oTitle = _append(this.parant,"ul","",{id:this.title,class:this.title});
            let oContent = _append(this.parant,"ul","",{id:this.content,class:this.content});
            this.data.map((e,i) => {
                // debugger
                let aLi = document.createElement("li");
                let aLi1 = document.createElement("li");
                let aLiTxt = document.createTextNode(`${e.title}`);
                let aLiTxt1 = document.createTextNode(`${e.content}`);
                aLi.appendChild(aLiTxt);
                aLi1.appendChild(aLiTxt1);
                oTitle.appendChild(aLi);
                oContent.appendChild(aLi1);
                if( i == 0){
                    aLi.className = Tab.CLICKED;
                    aLi1.className = Tab.ACTIVE;
                }
            })
            this.click()
        }

        click(){
            let aTitle = document.querySelectorAll(`#${this.title} li`)
            let aContent = document.querySelectorAll(`#${this.content} li`)
            for(let i = 0; i < aTitle.length; i++){
                aTitle[i].addEventListener("click",function(){
                    for(let j = 0; j < aTitle.length; j++){
                        aTitle[j].className = "";
                        aContent[j].className = "";
                    }
                aTitle[i].className = Tab.CLICKED;
                aContent[i].className = Tab.ACTIVE;
            })
            }
        }

        // change(){
        //     for(let i = 0; i < ali.length; i++){

        //     }
        // }
        
    }
    Tab.CLICKED = "clicked"
    Tab.ACTIVE = "active"
    new Tab("tab",json)
</script>
</html>